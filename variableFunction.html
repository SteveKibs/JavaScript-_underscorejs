<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
		var validateDataForAge = function(data) {
			person = data();
			document.writeln(person);

			if (person.age < 1 || person.age > 99) {
				return true;
			}
			else {
				return(false);
			}
		};

		var errorHandlerForAge = function(error) {
			document.writeln("error while processing age");
		};

		function parseRequest(data, validateData, errorHandler) {
			var error = validateData(data);
			if (!error) {
				document.writeln("no errors");
			}
			else {
				errorHandler();
			}
		}

		var generateDataForScientist = function() {
			return {
				name: "Albert Einstein",
				age: Math.floor(Math.random() * (100 - 1)) + 1,
			};
		};

		var generateDataForComposer = function() {
			return {
				name: "J S Bach",
				age: Math.floor(Math.random() * (100 - 1)) + 1,
			};
		};

		//parse request
		parseRequest(generateDataForScientist, validateDataForAge, errorHandlerForAge);
	</script>
</head>
<body>

</body>
</html>